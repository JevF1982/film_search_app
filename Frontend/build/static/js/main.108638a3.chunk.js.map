{"version":3,"sources":["reducers/favoriteReducer.jsx","reducers/authReducer.jsx","reducers/errorReducer.jsx","reducers/movieReducer.jsx","reducers/index.js","actions/types.jsx","styles/FormStyles.jsx","actions/errorActions.jsx","actions/tokenConfig.js","actions/favoriteAction.jsx","Components/Login.jsx","actions/authActions.jsx","Components/Register.jsx","Containers/NavBar.jsx","actions/movieActions.jsx","Components/Caroussel.jsx","Containers/AlertFunc.jsx","Components/MovieCard.jsx","Components/SearchField.jsx","Components/MovieDetails.jsx","Components/FavoritesList.jsx","Components/ProtectedRoute.js","Components/Unauthorized.js","Components/RouterPage.jsx","App.js","index.js"],"names":["initialState","favList","isLoading","token","localStorage","getItem","isAuthenticated","user","msg","status","id","movieList","movieDetails","allReducers","combineReducers","favorites","state","action","type","payload","error","auth","setItem","removeItem","movielist","useRegisterStyles","makeStyles","theme","root","flexGrow","paper","breakpoints","down","marginTop","spacing","avatar","margin","backgroundColor","palette","secondary","main","color","form","width","submit","cssLabel","cssOutlinedInput","borderColor","primary","cssFocused","notchedOutline","borderWidth","useLoginStyles","padding","textAlign","display","flexDirection","alignItems","menuButton","marginRight","title","links","textDecoration","returnErrors","tokenConfig","getState","config","headers","addFavorites","UserId","dispatch","a","body","JSON","stringify","axios","patch","then","catch","err","response","data","deleteFavorites","getFavorites","get","res","Login","classes","useSelector","userId","previousErrorValue","value","ref","useRef","useEffect","current","usePrevious","useDispatch","history","useHistory","useState","email","password","formState","setFormState","mounted","push","handleChange","e","target","name","Grid","container","style","item","xs","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","Alert","severity","elevation","marginBottom","noValidate","TextField","required","fullWidth","label","onChange","InputLabelProps","focused","InputProps","inputMode","autoComplete","Button","onClick","preventDefault","post","loginuser","to","Box","mt","withRouter","favListItem","details","message","sm","autoFocus","textfield","registeruser","justify","NavBar","toggle","setToggle","change","setChange","activeLinks","text","handleToggle","position","useWindowScrollPosition","y","transition","height","right","left","top","zIndex","link","logo","hamburger","src","alt","map","index","key","document","scrollTop","documentElement","listStyle","getMovieDetails","process","responsive","desktop","breakpoint","max","min","items","partialVisibilityGutter","mobile","tablet","Caroussel","setFavList","result","results","recentList","fetchData","justifyContent","additionalTransfrom","arrows","autoPlaySpeed","centerMode","containerClass","dotListClass","draggable","focusOnSelect","infinite","partialVisible","autoPlay","itemClass","keyBoardControl","minimumTouchDrag","renderButtonGroupOutside","renderDotsOutside","showDots","sliderClass","slidesToSlide","swipeable","poster_path","AlertFunc","istoggled","buttonValue","MovieCard","props","location","useLocation","setIsToggled","checked","setChecked","setButtonValue","getCheckedValue","useCallback","movieId","includes","timeout","setTimeout","clearTimeout","handleDelete","prevIsToggled","Card","minHeight","CardActionArea","CardMedia","image","path","objectFit","CardContent","gutterBottom","rating","CardActions","pathname","Checkbox","inputProps","size","handleFavorites","SearchField","searchfield","setSearchField","addMovies","placeholder","length","movie","overview","vote_average","lg","MovieDetails","movieStyle","background","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","movieOverview","fontSize","minWidth","movieContentContainer","overlay","FavoritesList","setMovieDetails","getList","abortController","AbortController","signal","fetch","json","prevMovieDetails","console","log","abort","ProtectedRoute","Component","rest","render","from","Unauthorized","RouterPage","alert","exact","Register","store","createStore","composeWithDevTools","applyMiddleware","thunk","App","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.108638a3.chunk.js","sourcesContent":["import {\r\n  ADD_FAVORITE,\r\n  DELETE_FAVORITE,\r\n  GET_FAVORITES,\r\n  FAVORITES_ERROR,\r\n  FAVORITES_LOADING,\r\n  LOADED_FAVORITES,\r\n  CLEAR_FAVORITES,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  favList: [],\r\n  isLoading: false,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_FAVORITE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case FAVORITES_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case LOADED_FAVORITES:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case DELETE_FAVORITE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case FAVORITES_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case CLEAR_FAVORITES:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        favList: [],\r\n      };\r\n    case GET_FAVORITES:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        favList: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  USER_LOADING,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCES,\r\n  LOGIN_FAIL,\r\n  LOGOUT_SUCCES,\r\n  REGISTER_SUCCES,\r\n  REGISTER_FAIL,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  token: localStorage.getItem(\"token\"),\r\n  isAuthenticated: null,\r\n  isLoading: false,\r\n  user: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n        user: action.payload,\r\n      };\r\n    case LOGIN_SUCCES:\r\n    case REGISTER_SUCCES:\r\n      localStorage.setItem(\"x-auth-token\", action.payload.token);\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n      };\r\n    case AUTH_ERROR:\r\n    case LOGIN_FAIL:\r\n    case LOGOUT_SUCCES:\r\n    case REGISTER_FAIL:\r\n      localStorage.removeItem(\"token\");\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ERRORS, CLEAR_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  msg: {},\r\n  status: null,\r\n  id: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return {\r\n        msg: action.payload.msg,\r\n        status: action.payload.status,\r\n        id: action.payload.id,\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        msg: {},\r\n        status: null,\r\n        id: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  POPULATE_MOVIELIST,\r\n  MOVIE_LOADING,\r\n  MOVIE_LOAD_ERROR,\r\n  CLEAR_MOVIELIST,\r\n  GET_MOVIE_DETAILS,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  movieList: [],\r\n  movieDetails: [],\r\n  isLoading: false,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case MOVIE_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case POPULATE_MOVIELIST:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        movieList: action.payload,\r\n      };\r\n    case GET_MOVIE_DETAILS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        movieDetails: action.payload,\r\n      };\r\n    case MOVIE_LOAD_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    case CLEAR_MOVIELIST:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        movieList: [],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import favoriteReducer from \"./favoriteReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport movieReducer from \"./movieReducer\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst allReducers = combineReducers({\r\n  favorites: favoriteReducer,\r\n  error: errorReducer,\r\n  auth: authReducer,\r\n  movielist: movieReducer,\r\n});\r\n\r\nexport default allReducers;\r\n","export const ADD_FAVORITE = \"ADD_FAVORITE\";\r\nexport const DELETE_FAVORITE = \"DELETE_FAVORITE\";\r\nexport const GET_FAVORITES = \"GET_FAVORITES\";\r\nexport const FAVORITES_LOADING = \"FAVORITES_LOADING\";\r\nexport const LOADED_FAVORITES = \"LOADED_FAVORITES\";\r\nexport const FAVORITES_ERROR = \"FAVORITES_ERROR\";\r\nexport const CLEAR_FAVORITES = \"CLEAR_FAVORITES\";\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const USER_LOADED = \"USER_LOADED\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\nexport const LOGIN_SUCCES = \"LOGIN_SUCCES\";\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\r\nexport const LOGOUT_SUCCES = \"LOGOUT_SUCCES\";\r\nexport const REGISTER_SUCCES = \"REGISTER_SUCCES\";\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\r\nexport const GET_ERRORS = \"GET_ERRORS\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\nexport const POPULATE_MOVIELIST = \"POPULATE_MOVIELIST\";\r\nexport const MOVIE_LOADING = \"MOVIE_LOADING\";\r\nexport const MOVIE_LOAD_ERROR = \"MOVIE_LOAD_ERROR\";\r\nexport const CLEAR_MOVIELIST = \"CLEAR_MOVIELIST\";\r\nexport const GET_MOVIE_DETAILS = \"GET_MOVIE_DETAILS\";\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useRegisterStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n\r\n  paper: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginTop: theme.spacing(0),\r\n    },\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    [theme.breakpoints.down(\"lg\")]: {\r\n      marginTop: theme.spacing(8),\r\n    },\r\n\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    border: \"white\",\r\n    color: \"white\",\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n    color: \"white !important\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(4),\r\n    color: \"white !important\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    color: \"white !important\",\r\n  },\r\n  cssLabel: {\r\n    color: \"white\",\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    \"&$cssFocused $notchedOutline\": {\r\n      borderColor: `${theme.palette.primary.main} !important`,\r\n    },\r\n  },\r\n\r\n  cssFocused: {},\r\n\r\n  notchedOutline: {\r\n    borderWidth: \"1px\",\r\n    borderColor: \"white !important\",\r\n  },\r\n}));\r\n\r\n//////////////////////////////////////////////////////      LOGIN            ////////////////////////////////////////////////////////\r\n\r\nexport const useLoginStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\r\n      borderColor: \"#242B53\",\r\n    },\r\n    \"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\r\n      borderColor: \"#242B53\",\r\n    },\r\n    \"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n      borderColor: \"#242B53\",\r\n    },\r\n    flexGrow: 1,\r\n  },\r\n\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    padding: theme.spacing(2),\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"white !important\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n\r\n  cssLabel: {\r\n    color: \"white\",\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    \"&$cssFocused $notchedOutline\": {\r\n      borderColor: `${theme.palette.primary.main} !important`,\r\n    },\r\n  },\r\n\r\n  cssFocused: {},\r\n\r\n  notchedOutline: {\r\n    borderWidth: \"1px\",\r\n    borderColor: \"white !important\",\r\n  },\r\n}));\r\n\r\n/////////////////////////////////////////////////////////////////     NAVBAR         ////////////////////////////////////////\r\n\r\nexport const useNavBarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  links: {\r\n    color: \"white\",\r\n    textDecoration: \"none\",\r\n  },\r\n}));\r\n","import { GET_ERRORS, CLEAR_ERRORS } from \"./types\";\r\n\r\n// return errors\r\n\r\nexport const returnErrors = (msg, status, id = null) => {\r\n  return {\r\n    type: GET_ERRORS,\r\n    payload: { msg, status, id },\r\n  };\r\n};\r\nexport const clearErrors = () => {\r\n  return {\r\n    type: CLEAR_ERRORS,\r\n  };\r\n};\r\n","// setup config/headers and token\r\n\r\nexport const tokenConfig = (getState) => {\r\n  // get token from localStorage\r\n  const token = getState().auth.token;\r\n  // Headers\r\n  const config = {\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  // if user has token then add it to the headers\r\n\r\n  if (token) {\r\n    config.headers[\"x-auth-token\"] = token;\r\n  }\r\n  return config;\r\n};\r\n","import {\r\n  ADD_FAVORITE,\r\n  FAVORITES_ERROR,\r\n  FAVORITES_LOADING,\r\n  GET_FAVORITES,\r\n  DELETE_FAVORITE,\r\n  LOADED_FAVORITES,\r\n  CLEAR_FAVORITES,\r\n} from \"./types\";\r\nimport { returnErrors } from \"./errorActions\";\r\nimport { tokenConfig } from \"../actions/tokenConfig\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const addFavorites = (favList, UserId) => async (dispatch, getState) => {\r\n  dispatch({ type: FAVORITES_LOADING });\r\n\r\n  const body = JSON.stringify({ favList, UserId });\r\n\r\n  await axios\r\n    .patch(`/api/favorites/${UserId}`, body, tokenConfig(getState))\r\n    .then(() =>\r\n      dispatch({\r\n        type: ADD_FAVORITE,\r\n        payload: favList,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(\r\n        returnErrors(err.response.data, err.response.status, \"FAVORITES_ERROR\")\r\n      );\r\n      dispatch({\r\n        type: FAVORITES_ERROR,\r\n      });\r\n    });\r\n};\r\n\r\nexport const deleteFavorites = (favList, UserId) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch({ type: FAVORITES_LOADING });\r\n\r\n  const body = JSON.stringify({ favList, UserId });\r\n\r\n  await axios\r\n    .patch(\r\n      `/api/favorites/deletefavorites/${UserId}`,\r\n      body,\r\n      tokenConfig(getState)\r\n    )\r\n    .then(() =>\r\n      dispatch({\r\n        type: DELETE_FAVORITE,\r\n        payload: favList,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(\r\n        returnErrors(err.response.data, err.response.status, \"FAVORITES_ERROR\")\r\n      );\r\n      dispatch({\r\n        type: FAVORITES_ERROR,\r\n      });\r\n    });\r\n};\r\n\r\nexport const getFavorites = (UserId) => async (dispatch, getState) => {\r\n  dispatch({ type: FAVORITES_LOADING });\r\n\r\n  await axios\r\n    .get(`/api/favorites/getfavorites/${UserId}`, tokenConfig(getState))\r\n    .then((res) =>\r\n      dispatch({\r\n        type: GET_FAVORITES,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(\r\n        returnErrors(err.response.data, err.response.status, \"FAVORITES_ERROR\")\r\n      );\r\n      dispatch({\r\n        type: FAVORITES_ERROR,\r\n      });\r\n    });\r\n\r\n  await dispatch({\r\n    type: LOADED_FAVORITES,\r\n  });\r\n};\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useLoginStyles } from \"../styles/FormStyles\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { loginuser } from \"../actions/authActions\";\r\nimport { clearErrors } from \"../actions/errorActions\";\r\nimport { useHistory } from \"react-router\";\r\nimport { getFavorites } from \"../actions/favoriteAction\";\r\n\r\nexport default function Login() {\r\n  const classes = useLoginStyles();\r\n\r\n  const auth = useSelector((auth) => auth.auth);\r\n  const userId = useSelector((auth) =>\r\n    auth.auth.user ? auth.auth.user.id : null\r\n  );\r\n\r\n  const error = useSelector((state) => state.error);\r\n\r\n  const previousErrorValue = usePrevious(error);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const [formState, setFormState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    msg: null,\r\n  });\r\n\r\n  ////////////////////get previous value function/////////////////////\r\n\r\n  function usePrevious(value) {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n      ref.current = value;\r\n    });\r\n    return ref.current;\r\n  }\r\n\r\n  const mounted = useRef();\r\n  useEffect(() => {\r\n    if (!mounted.current) {\r\n      mounted.current = true;\r\n    } else {\r\n      if (error.msg !== previousErrorValue.msg) {\r\n        // check for login error\r\n\r\n        if (error.id === \"LOGIN_FAIL\") {\r\n          setFormState({\r\n            msg: error.msg.msg,\r\n          });\r\n        } else {\r\n          setFormState({ msg: null });\r\n        }\r\n      }\r\n    }\r\n    // clear fields\r\n    if (auth.isAuthenticated) {\r\n      setFormState({\r\n        email: \"\",\r\n        password: \"\",\r\n\r\n        msg: null,\r\n      });\r\n      // redirect to Search Page\r\n      history.push(\"/\");\r\n      // clear errors action\r\n      dispatch(clearErrors());\r\n      dispatch(getFavorites(userId));\r\n    }\r\n  }, [\r\n    error,\r\n    previousErrorValue,\r\n    auth.isAuthenticated,\r\n    dispatch,\r\n    history,\r\n    userId,\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(loginuser(formState));\r\n\r\n    setFormState({\r\n      email: \" \",\r\n      password: \" \",\r\n    });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    let name = e.target.name;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={3} style={{ marginTop: \"70px\" }}>\r\n      <Grid item xs={12}>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            {formState.msg ? (\r\n              <Alert\r\n                severity=\"error\"\r\n                elevation={6}\r\n                variant=\"filled\"\r\n                style={{ marginBottom: \"20px\", marginTop: \"20px\" }}\r\n              >\r\n                {formState.msg}\r\n              </Alert>\r\n            ) : null}\r\n            <form className={classes.form} noValidate>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                className=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                value={formState.email || \"\"}\r\n                onChange={handleChange}\r\n                InputLabelProps={{\r\n                  classes: {\r\n                    root: classes.cssLabel,\r\n                    focused: classes.cssFocused,\r\n                  },\r\n                }}\r\n                InputProps={{\r\n                  classes: {\r\n                    root: classes.cssOutlinedInput,\r\n                    focused: classes.cssFocused,\r\n                    notchedOutline: classes.notchedOutline,\r\n                  },\r\n                  inputMode: \"numeric\",\r\n                }}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                value={formState.password || \"\"}\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                onChange={handleChange}\r\n                className={classes.root}\r\n                InputLabelProps={{\r\n                  classes: {\r\n                    root: classes.cssLabel,\r\n                    focused: classes.cssFocused,\r\n                  },\r\n                }}\r\n                InputProps={{\r\n                  classes: {\r\n                    root: classes.cssOutlinedInput,\r\n                    focused: classes.cssFocused,\r\n                    notchedOutline: classes.notchedOutline,\r\n                  },\r\n                  inputMode: \"numeric\",\r\n                }}\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                onClick={handleSubmit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link to=\"\" variant=\"body2\" className=\"route-links\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link to=\"/register\" className=\"route-links\">\r\n                    Don't have an account? Sign Up\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n          <Box mt={8}></Box>\r\n        </Container>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  USER_LOADING,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCES,\r\n  LOGIN_FAIL,\r\n  REGISTER_SUCCES,\r\n  REGISTER_FAIL,\r\n} from \"./types\";\r\n\r\nimport { returnErrors } from \"./errorActions\";\r\nimport { tokenConfig } from \"../actions/tokenConfig\";\r\nimport axios from \"axios\";\r\n\r\n// check token and load user\r\nexport const loadUser = () => (dispatch, getState) => {\r\n  // User loading\r\n  dispatch({ type: USER_LOADING });\r\n\r\n  // fetch user\r\n\r\n  axios\r\n    .get(\"/api/users/user\", tokenConfig(getState))\r\n    .then((res) =>\r\n      dispatch({\r\n        type: USER_LOADED,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(returnErrors(err.response.data, err.response.status));\r\n      dispatch({\r\n        type: AUTH_ERROR,\r\n      });\r\n    });\r\n};\r\n\r\n// Register User///\r\nexport const registeruser = ({ name, email, password }) => (dispatch) => {\r\n  //headers\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n\r\n  // request body\r\n\r\n  const body = JSON.stringify({ name, email, password });\r\n\r\n  axios\r\n    .post(\"/api/users/register\", body, config)\r\n    .then((res) =>\r\n      dispatch({\r\n        type: REGISTER_SUCCES,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(\r\n        returnErrors(err.response.data, err.response.status, \"REGISTER_FAIL\")\r\n      );\r\n      dispatch({\r\n        type: REGISTER_FAIL,\r\n      });\r\n    });\r\n};\r\n\r\n////////////////////////////////////////////////////: LOGIN USER /////////////////////////////////////////////////\r\n\r\nexport const loginuser = ({ email, password }) => (dispatch) => {\r\n  //headers\r\n  const config = {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n\r\n  // request body\r\n\r\n  const body = JSON.stringify({ email, password });\r\n\r\n  axios\r\n    .post(\"/api/users/login\", body, config)\r\n    .then((res) =>\r\n      dispatch({\r\n        type: LOGIN_SUCCES,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(\r\n        returnErrors(err.response.data, err.response.status, \"LOGIN_FAIL\")\r\n      );\r\n\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n      });\r\n    });\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { registeruser } from \"../actions/authActions\";\r\nimport { clearErrors } from \"../actions/errorActions\";\r\nimport { useRegisterStyles } from \"../styles/FormStyles\";\r\n\r\nconst Register = () => {\r\n  const classes = useRegisterStyles();\r\n\r\n  const [formState, setFormState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    favListItem: \" \",\r\n    msg: null,\r\n  });\r\n\r\n  /////////////////////////////////////////////:get previous value//////////////////////////////////\r\n  function usePrevious(value) {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n      ref.current = value;\r\n    });\r\n    return ref.current;\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  const error = useSelector((state) => state.error);\r\n  const previousErrorValue = usePrevious(error);\r\n  const isAuthenticated = useSelector((state) => state.auth.isAuthenticated);\r\n  let history = useHistory();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // check for error changes trough useref and useeffect (equal to componentdidupdate)////////////////////////////////////////////////////////\r\n  const mounted = useRef();\r\n  useEffect(() => {\r\n    if (!mounted.current) {\r\n      mounted.current = true;\r\n    } else {\r\n      if (error.msg !== previousErrorValue.msg) {\r\n        // check for register error\r\n        try {\r\n          if (error.id === \"REGISTER_FAIL\") {\r\n            setFormState({\r\n              msg: error.msg.msg.details[0].message || null,\r\n            });\r\n          } else {\r\n            setFormState({ msg: null });\r\n          }\r\n        } catch {\r\n          setFormState({\r\n            msg: \"User bestaat al \",\r\n          });\r\n        }\r\n      }\r\n    }\r\n    // clear fields\r\n    if (isAuthenticated) {\r\n      setFormState({\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        msg: null,\r\n      });\r\n      // redirect to login\r\n      history.push(\"/\");\r\n      // clear errors action\r\n      dispatch(clearErrors());\r\n    }\r\n  }, [error, previousErrorValue, isAuthenticated, dispatch, history]);\r\n\r\n  /////////////////////////////////submit///////////////////////////////////////////////////////////////////////////////////\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { name, email, password } = formState;\r\n\r\n    // new user\r\n    const newUser = {\r\n      name,\r\n      email,\r\n      password,\r\n    };\r\n\r\n    dispatch(registeruser(newUser));\r\n  };\r\n\r\n  ////////////////////////////////////////////////////handlechange///////////////////////////////////////\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    let name = e.target.name;\r\n    setFormState({\r\n      ...formState,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <Grid container spacing={3} style={{ marginTop: \"70px\" }}>\r\n      <Grid item xs={12}>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign up\r\n            </Typography>\r\n            <form className={classes.form} noValidate>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={12}>\r\n                  {formState.msg ? (\r\n                    <Alert\r\n                      severity=\"error\"\r\n                      elevation={6}\r\n                      variant=\"filled\"\r\n                      style={{ marginBottom: \"20px\" }}\r\n                    >\r\n                      {formState.msg}\r\n                    </Alert>\r\n                  ) : null}\r\n                  <TextField\r\n                    autoComplete=\"fname\"\r\n                    name=\"name\"\r\n                    variant=\"outlined\"\r\n                    required\r\n                    value={formState.name || \"\"}\r\n                    fullWidth\r\n                    id=\"name\"\r\n                    label=\"Name\"\r\n                    autoFocus\r\n                    onChange={handleChange}\r\n                    className={classes.textfield}\r\n                    InputLabelProps={{\r\n                      classes: {\r\n                        root: classes.cssLabel,\r\n                        focused: classes.cssFocused,\r\n                      },\r\n                    }}\r\n                    InputProps={{\r\n                      classes: {\r\n                        root: classes.cssOutlinedInput,\r\n                        focused: classes.cssFocused,\r\n                        notchedOutline: classes.notchedOutline,\r\n                      },\r\n                      inputMode: \"numeric\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Email Address\"\r\n                    name=\"email\"\r\n                    value={formState.email || \"\"}\r\n                    autoComplete=\"email\"\r\n                    onChange={handleChange}\r\n                    className={classes.textfield}\r\n                    InputLabelProps={{\r\n                      classes: {\r\n                        root: classes.cssLabel,\r\n                        focused: classes.cssFocused,\r\n                      },\r\n                    }}\r\n                    InputProps={{\r\n                      classes: {\r\n                        root: classes.cssOutlinedInput,\r\n                        focused: classes.cssFocused,\r\n                        notchedOutline: classes.notchedOutline,\r\n                      },\r\n                      inputMode: \"numeric\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    value={formState.password || \"\"}\r\n                    id=\"password2\"\r\n                    autoComplete=\"current-password\"\r\n                    onChange={handleChange}\r\n                    className={classes.textfield}\r\n                    InputLabelProps={{\r\n                      classes: {\r\n                        root: classes.cssLabel,\r\n                        focused: classes.cssFocused,\r\n                      },\r\n                    }}\r\n                    InputProps={{\r\n                      classes: {\r\n                        root: classes.cssOutlinedInput,\r\n                        focused: classes.cssFocused,\r\n                        notchedOutline: classes.notchedOutline,\r\n                      },\r\n                      inputMode: \"numeric\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                onClick={handleSubmit}\r\n              >\r\n                Sign Up\r\n              </Button>\r\n              <Grid container justify=\"flex-end\">\r\n                <Grid item>\r\n                  <Link to=\"/login\" className=\"route-links\">\r\n                    Already have an account? Sign in\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n          <Box mt={5}></Box>\r\n        </Container>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default withRouter(Register);\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useWindowScrollPosition from \"@rehooks/window-scroll-position\";\r\nimport {\r\n  LOGOUT_SUCCES,\r\n  CLEAR_MOVIELIST,\r\n  CLEAR_FAVORITES,\r\n} from \"../actions/types\";\r\nimport \"../Navbar.scss\";\r\n\r\nconst NavBar = () => {\r\n  const login = [\r\n    {\r\n      to: \"/\",\r\n      text: \"SEARCH\",\r\n    },\r\n\r\n    {\r\n      to: \"/login\",\r\n      text: \"LOGIN\",\r\n    },\r\n    {\r\n      to: \"/register\",\r\n      text: \"REGISTER\",\r\n    },\r\n  ];\r\n  const logout = [\r\n    {\r\n      to: \"/\",\r\n      text: \"SEARCH\",\r\n    },\r\n    {\r\n      to: \"/favorites\",\r\n      text: \"FAVORITES\",\r\n    },\r\n    {\r\n      to: \"/\",\r\n      text: \"LOGOUT\",\r\n    },\r\n  ];\r\n\r\n  const [toggle, setToggle] = useState(false);\r\n  const [change, setChange] = useState(false);\r\n  const changePosition = 1;\r\n  const isAuthenticated = useSelector((state) => state.auth.isAuthenticated);\r\n\r\n  const dispatch = useDispatch();\r\n  const activeLinks = isAuthenticated ? logout : login;\r\n\r\n  const handleToggle = () => {\r\n    setToggle(!toggle);\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    handleToggle();\r\n    if (e === \"LOGOUT\") {\r\n      dispatch({ type: LOGOUT_SUCCES });\r\n      dispatch({ type: CLEAR_MOVIELIST });\r\n      dispatch({ type: CLEAR_FAVORITES });\r\n    }\r\n\r\n    handleToggle();\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n  };\r\n\r\n  /////////NAVBAR SCROLL EFFECT///////////////\r\n\r\n  let position = useWindowScrollPosition();\r\n  // position == { x: 0, y: 0 }\r\n\r\n  if (position.y > changePosition && !change) {\r\n    setChange(true);\r\n  }\r\n\r\n  if (position.y <= changePosition && change) {\r\n    setChange(false);\r\n  }\r\n\r\n  //////////////////////EXTRA STYLING FOR SCROLL EFFECT///////////////////\r\n  const style = {\r\n    backgroundColor: change ? \"black\" : \"transparent\",\r\n    transition: \"400ms ease\",\r\n    height: \"120px\",\r\n    position: !position.y ? \" \" : \"fixed\",\r\n    right: 0,\r\n    left: 0,\r\n    top: !position.y ? \"0px\" : \"-20px\",\r\n    zIndex: 3000,\r\n    link: {\r\n      marginTop: !position.y ? \" \" : \"65px\",\r\n    },\r\n    logo: {\r\n      marginTop: !position.y ? \" \" : \"10px\",\r\n    },\r\n    hamburger: {\r\n      marginTop: !position.y ? \" \" : \"20px\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <nav className={toggle ? \"navbar active\" : \"navbar\"} style={style}>\r\n          <div>\r\n            <img\r\n              className=\"logo\"\r\n              src=\"assets/logo_transparent.png\"\r\n              alt=\"pic\"\r\n              style={style.logo}\r\n            />\r\n          </div>\r\n          <button onClick={handleToggle} className=\"toggle\"></button>\r\n          <ul\r\n            className={toggle ? \"link-list active\" : \"link-list\"}\r\n            style={style.link}\r\n          >\r\n            {activeLinks.map((link, index) => {\r\n              return (\r\n                <li key={index} onClick={() => handleClick(link.text)}>\r\n                  <Link\r\n                    to={link.to}\r\n                    style={{\r\n                      listStyle: \"none\",\r\n                      textDecoration: \"none\",\r\n                      color: \"wheat\",\r\n                    }}\r\n                  >\r\n                    {link.text}\r\n                  </Link>\r\n                  <hr />\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n          <div className=\"hamburger-menu\" style={style.hamburger}>\r\n            <div className={toggle ? \"line1 turn\" : \"line1\"}></div>\r\n            <div className={toggle ? \"line2 turn\" : \"line2\"}></div>\r\n            <div className={toggle ? \"line3 turn\" : \"line3\"}></div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import {\r\n  POPULATE_MOVIELIST,\r\n  MOVIE_LOADING,\r\n  MOVIE_LOAD_ERROR,\r\n  CLEAR_MOVIELIST,\r\n  GET_MOVIE_DETAILS,\r\n} from \"./types\";\r\n\r\nimport { returnErrors } from \"./errorActions\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const addMovies = (searchfield) => (dispatch) => {\r\n  // movie loading\r\n  dispatch({ type: MOVIE_LOADING });\r\n\r\n  // fetch movies\r\n\r\n  axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${process.env.REACT_APP_KEY}&query=${searchfield}`\r\n    )\r\n    .then((res) =>\r\n      dispatch({\r\n        type: POPULATE_MOVIELIST,\r\n        payload: res.data.results,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch({ type: CLEAR_MOVIELIST });\r\n      dispatch(returnErrors(err.response.data, err.response.status));\r\n      dispatch({\r\n        type: MOVIE_LOAD_ERROR,\r\n      });\r\n    });\r\n};\r\n\r\nexport const getMovieDetails = (id) => (dispatch) => {\r\n  // movie loading\r\n  dispatch({ type: MOVIE_LOADING });\r\n\r\n  // fetch movies\r\n\r\n  axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${process.env.REACT_APP_KEY}&language=en-US`\r\n    )\r\n    .then((res) =>\r\n      dispatch({\r\n        type: GET_MOVIE_DETAILS,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch(returnErrors(err.response.data, err.response.status));\r\n      dispatch({\r\n        type: MOVIE_LOAD_ERROR,\r\n      });\r\n    });\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport axios from \"axios\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useHistory } from \"react-router\";\r\nimport { getMovieDetails } from \"../actions/movieActions\";\r\n\r\nconst responsive = {\r\n  desktop: {\r\n    breakpoint: {\r\n      max: 3000,\r\n      min: 1024,\r\n    },\r\n    items: 6,\r\n    partialVisibilityGutter: 20,\r\n  },\r\n  mobile: {\r\n    breakpoint: {\r\n      max: 464,\r\n      min: 0,\r\n    },\r\n    items: 2,\r\n    partialVisibilityGutter: 20,\r\n  },\r\n  tablet: {\r\n    breakpoint: {\r\n      max: 1024,\r\n      min: 464,\r\n    },\r\n    items: 3,\r\n    partialVisibilityGutter: 20,\r\n  },\r\n};\r\n\r\nconst Caroussel = () => {\r\n  const [favList, setFavList] = useState([]);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios(\r\n        `https://api.themoviedb.org/3/movie/now_playing?api_key=${process.env.REACT_APP_KEY}&language=en-US&page=1`\r\n      );\r\n\r\n      const recentList = await result.data.results.map((item) => item);\r\n\r\n      setFavList(recentList);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleClick = (id) => {\r\n    dispatch(getMovieDetails(id));\r\n    history.push(\"/details\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <h1 style={{ marginBottom: \"60px\" }}>NEW RELEASES</h1>\r\n      </div>\r\n      <Carousel\r\n        additionalTransfrom={0}\r\n        arrows\r\n        responsive={responsive}\r\n        autoPlaySpeed={1500}\r\n        centerMode={false}\r\n        className=\"\"\r\n        containerClass=\"container-with-dots\"\r\n        dotListClass=\"\"\r\n        draggable\r\n        focusOnSelect={false}\r\n        infinite\r\n        partialVisible\r\n        autoPlay={true}\r\n        itemClass=\"\"\r\n        keyBoardControl\r\n        minimumTouchDrag={80}\r\n        renderButtonGroupOutside={false}\r\n        renderDotsOutside={false}\r\n        showDots={false}\r\n        sliderClass=\"\"\r\n        slidesToSlide={1}\r\n        swipeable\r\n      >\r\n        {favList.map((item) => {\r\n          return item.poster_path ? (\r\n            <Grid container spacing={1} key={item.id}>\r\n              <Grid item xs={12}>\r\n                <img\r\n                  src={`http://image.tmdb.org/t/p/w185//${item.poster_path}`}\r\n                  alt=\"pic\"\r\n                  id=\"img-card\"\r\n                  onClick={() => handleClick(item.id)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          ) : null;\r\n        })}\r\n      </Carousel>\r\n      ;\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Caroussel;\r\n","import { Alert } from \"@material-ui/lab\";\r\nimport React from \"react\";\r\n\r\nexport const AlertFunc = (isAuthenticated, istoggled, buttonValue) => {\r\n  if (!isAuthenticated && istoggled) {\r\n    if (buttonValue === \"add\") {\r\n      return (\r\n        <Alert\r\n          severity=\"error\"\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          style={{ marginBottom: \"20px\" }}\r\n        >\r\n          You must be logged in to add to your favorites\r\n        </Alert>\r\n      );\r\n    } else if (buttonValue === \"delete\") {\r\n      return (\r\n        <Alert\r\n          severity=\"error\"\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          style={{ marginBottom: \"20px\" }}\r\n        >\r\n          You must be logged in to delete from your favorites\r\n        </Alert>\r\n      );\r\n    }\r\n  } else if (isAuthenticated && istoggled) {\r\n    if (buttonValue === \"add\")\r\n      return (\r\n        <Alert\r\n          severity=\"success\"\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          style={{ marginBottom: \"20px\" }}\r\n        >\r\n          Added to your favorites\r\n        </Alert>\r\n      );\r\n    else {\r\n      return (\r\n        <Alert\r\n          severity=\"success\"\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          style={{ marginBottom: \"20px\" }}\r\n        >\r\n          Deleted from your favorites\r\n        </Alert>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default AlertFunc;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport FadeIn from \"react-fade-in\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getMovieDetails } from \"../actions/movieActions\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport {\r\n  addFavorites,\r\n  deleteFavorites,\r\n  getFavorites,\r\n} from \"../actions/favoriteAction\";\r\nimport { AlertFunc } from \"../Containers/AlertFunc\";\r\n\r\nconst MovieCard = (props) => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const isAuthenticated = useSelector((auth) => auth.auth.isAuthenticated);\r\n  const userId = useSelector((auth) =>\r\n    isAuthenticated ? auth.auth.user.id : null\r\n  );\r\n  const favList = useSelector(\r\n    (favorites) => favorites.favorites.favList.favList\r\n  );\r\n\r\n  const [istoggled, setIsToggled] = useState(false);\r\n  const [checked, setChecked] = useState(false);\r\n  const [buttonValue, setButtonValue] = useState(\"\");\r\n\r\n  const getCheckedValue = useCallback(\r\n    (movieId) => {\r\n      setChecked(favList && favList.includes(movieId));\r\n    },\r\n    [favList]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setIsToggled(false);\r\n    }, 2000);\r\n\r\n    getCheckedValue(props.id);\r\n\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [istoggled, getCheckedValue, props.id]);\r\n\r\n  const handleClick = (id) => {\r\n    dispatch(getMovieDetails(id));\r\n    history.push(\"/details\");\r\n  };\r\n\r\n  const handleFavorites = (movieId, userId) => {\r\n    dispatch(addFavorites(movieId, userId));\r\n    dispatch(getFavorites(userId));\r\n    setButtonValue(\"add\");\r\n    setIsToggled((prevIsToggled) => !prevIsToggled);\r\n  };\r\n  const handleDelete = async (movieId, userId) => {\r\n    await dispatch(deleteFavorites(movieId, userId));\r\n    dispatch(getFavorites(userId));\r\n    setButtonValue(\"delete\");\r\n    setIsToggled((prevIsToggled) => !prevIsToggled);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FadeIn>\r\n        <Card\r\n          style={{\r\n            marginBottom: \"90px\",\r\n            minHeight: \"600px\",\r\n            backgroundColor: \"rgb(25,25,25)\",\r\n          }}\r\n        >\r\n          <CardActionArea>\r\n            <CardMedia\r\n              component=\"img\"\r\n              alt=\"Movie Tile\"\r\n              width={200}\r\n              height={300}\r\n              image={` http://image.tmdb.org/t/p/w185//${props.path}`}\r\n              title={props.title}\r\n              style={{ objectFit: \"scale-down\" }}\r\n            />\r\n            <CardContent>\r\n              <Typography\r\n                gutterBottom\r\n                variant=\"h5\"\r\n                style={{ color: \"white\" }}\r\n                component=\"h2\"\r\n              >\r\n                {props.title}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"body2\"\r\n                style={{ color: \"white\", marginBottom: \"40px\" }}\r\n                component=\"h1\"\r\n              >\r\n                Rating : {props.rating}/10\r\n              </Typography>\r\n            </CardContent>\r\n          </CardActionArea>\r\n\r\n          {AlertFunc(isAuthenticated, istoggled, buttonValue)}\r\n\r\n          <CardActions style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            {location.pathname !== \"/favorites\" ? (\r\n              <div>\r\n                <Checkbox\r\n                  checked={checked || false}\r\n                  color=\"secondary\"\r\n                  inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n                />\r\n                <Button\r\n                  size=\"large\"\r\n                  color=\"primary\"\r\n                  className=\"moviecard-buttons\"\r\n                  onClick={() => handleFavorites(props.id, userId, \"add\")}\r\n                >\r\n                  Add to favorites\r\n                </Button>{\" \"}\r\n              </div>\r\n            ) : null}\r\n          </CardActions>\r\n          <CardActions style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <Button\r\n              size=\"large\"\r\n              color=\"primary\"\r\n              className=\"moviecard-buttons\"\r\n              onClick={() =>\r\n                handleDelete(\r\n                  props.id,\r\n                  isAuthenticated ? userId : null,\r\n                  \"delete\"\r\n                )\r\n              }\r\n            >\r\n              Delete from favorites\r\n            </Button>\r\n            <Button\r\n              size=\"large\"\r\n              color=\"primary\"\r\n              className=\"moviecard-buttons\"\r\n              onClick={() => handleClick(props.id)}\r\n            >\r\n              Details\r\n            </Button>\r\n          </CardActions>\r\n        </Card>\r\n      </FadeIn>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieCard;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Moviecard from \"../Components/MovieCard\";\r\nimport SearchBar from \"material-ui-search-bar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { addMovies } from \"../actions/movieActions\";\r\n\r\nconst SearchField = () => {\r\n  const [searchfield, setSearchField] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const movieList = useSelector((movielist) => movielist.movielist.movieList);\r\n\r\n  const handleChange = (e) => {\r\n    setSearchField(e);\r\n\r\n    dispatch(addMovies(e));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"search-bar\">\r\n        <SearchBar\r\n          id=\"search-field\"\r\n          onChange={handleChange}\r\n          value={searchfield}\r\n          placeholder=\"Search for movies...\"\r\n          autoComplete=\"off\"\r\n        />\r\n      </div>\r\n      <Grid container style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        {movieList.length\r\n          ? movieList.map((movie, index) =>\r\n              movie.poster_path && movie.overview && movie.vote_average ? (\r\n                <Grid\r\n                  item\r\n                  xs={8}\r\n                  sm={4}\r\n                  lg={3}\r\n                  style={{ margin: \"10px\" }}\r\n                  key={index}\r\n                >\r\n                  <Moviecard\r\n                    path={movie.poster_path}\r\n                    overview={movie.overview}\r\n                    title={movie.title}\r\n                    rating={movie.vote_average}\r\n                    id={movie.id}\r\n                  />\r\n                </Grid>\r\n              ) : null\r\n            )\r\n          : null}\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchField;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { AlertFunc } from \"../Containers/AlertFunc\";\r\nimport {\r\n  addFavorites,\r\n  deleteFavorites,\r\n  getFavorites,\r\n} from \"../actions/favoriteAction\";\r\n\r\nconst MovieDetails = () => {\r\n  const movie = useSelector((movie) => movie.movielist.movieDetails);\r\n  const isAuthenticated = useSelector((auth) => auth.auth.isAuthenticated);\r\n  const userId = useSelector((auth) =>\r\n    isAuthenticated ? auth.auth.user.id : null\r\n  );\r\n  const favList = useSelector(\r\n    (favorites) => favorites.favorites.favList.favList\r\n  );\r\n  const [istoggled, setIsToggled] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [buttonValue, setButtonValue] = useState(\"\");\r\n  const [checked, setChecked] = useState(false);\r\n\r\n  const getCheckedValue = useCallback(\r\n    (movieId) => {\r\n      setChecked(favList && favList.includes(movieId));\r\n    },\r\n    [favList]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      setIsToggled(false);\r\n    }, 2000);\r\n    getCheckedValue(movie.id);\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [istoggled, getCheckedValue, movie.id]);\r\n\r\n  const handleFavorites = (movieId, userId, e) => {\r\n    setIsToggled((prevIsToggled) => !prevIsToggled);\r\n    if (e === \"add\") {\r\n      dispatch(addFavorites(movieId, userId));\r\n      dispatch(getFavorites(userId));\r\n      setButtonValue(\"add\");\r\n    } else {\r\n      setButtonValue(\"delete\");\r\n      dispatch(deleteFavorites(movieId, userId));\r\n      dispatch(getFavorites(userId));\r\n    }\r\n  };\r\n\r\n  const movieStyle = {\r\n    background: {\r\n      backgroundImage: `url(http://image.tmdb.org/t/p/w185//${movie.poster_path})`,\r\n      maxWidth: \"40vh\",\r\n      minHeight: \"300px \",\r\n      backgroundRepeat: \"no-repeat\",\r\n\r\n      backgroundPosition: \"left\",\r\n      backgroundSize: \"contain\",\r\n      flexGrow: 2,\r\n    },\r\n\r\n    container: {\r\n      display: \"flex\",\r\n      width: \"100vw\",\r\n      justifyContent: \"center\",\r\n      margin: \"50px 0 50px 0\",\r\n    },\r\n    movieOverview: {\r\n      color: \"white\",\r\n      fontSize: \"1.4em\",\r\n\r\n      minWidth: \"auto\",\r\n      margin: \"20px\",\r\n    },\r\n    movieContentContainer: {\r\n      display: \"flex\",\r\n      padding: \"20px\",\r\n      margin: \"30px\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"movie-container\" style={movieStyle.container}>\r\n        <div className=\"movie-background\" style={movieStyle.background}>\r\n          <div className=\"overlay\" style={movieStyle.overlay}></div>\r\n        </div>\r\n        <div style={movieStyle.movieContentContainer}>\r\n          <div style={movieStyle.movieOverview}>{movie.overview}</div>\r\n          <div style={movieStyle.movieOverview}>\r\n            {movie.vote_average ? `RATING : ${movie.vote_average}/10` : null}\r\n          </div>\r\n\r\n          {\r\n            /// call alert function\r\n            AlertFunc(isAuthenticated, istoggled, buttonValue)\r\n          }\r\n          <div style={movieStyle.movieOverview}>\r\n            {movie.vote_average ? (\r\n              <div>\r\n                {isAuthenticated ? (\r\n                  <Checkbox\r\n                    checked={checked || false}\r\n                    color=\"secondary\"\r\n                    inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n                    style={{ marginBottom: \"20px\" }}\r\n                  />\r\n                ) : null}\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => handleFavorites(movie.id, userId, \"add\")}\r\n                  style={{ marginRight: \"20px\", marginBottom: \"20px\" }}\r\n                >\r\n                  Add to favorites\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  onClick={() => handleFavorites(movie.id, userId, \"delete\")}\r\n                  style={{ marginBottom: \"20px\" }}\r\n                >\r\n                  Delete from favorites\r\n                </Button>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Moviecard from \"../Components/MovieCard\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst FavoritesList = () => {\r\n  const [movieDetails, setMovieDetails] = useState([]);\r\n\r\n  const isAuthenticated = useSelector((auth) => auth.auth.isAuthenticated);\r\n  const isLoading = useSelector((favorites) => favorites.favorites.isLoading);\r\n\r\n  const favList = useSelector(\r\n    (favorites) => favorites.favorites.favList.favList\r\n  );\r\n\r\n  /////////////////////:Get favorite movies////////////////////////////\r\n\r\n  const getList = useCallback(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n\r\n    setMovieDetails([]);\r\n\r\n    favList &&\r\n      favList.map((id) =>\r\n        fetch(\r\n          `https://api.themoviedb.org/3/movie/${id}?api_key=${process.env.REACT_APP_KEY}&language=en-US`,\r\n          { signal: signal }\r\n        )\r\n          .then((response) => response.json())\r\n          .then((movie) => {\r\n            setMovieDetails((prevMovieDetails) => [...prevMovieDetails, movie]);\r\n          })\r\n          .catch((err) => console.log(err))\r\n      );\r\n\r\n    return function cleanup() {\r\n      abortController.abort();\r\n    };\r\n  }, [favList]);\r\n\r\n  useEffect(() => {\r\n    setMovieDetails([]);\r\n    getList();\r\n  }, [getList]);\r\n\r\n  return (\r\n    <>\r\n      <div id=\"favorite-header\">\r\n        <h1>Favorites</h1>\r\n      </div>\r\n      {!favList && isAuthenticated ? (\r\n        <h3 style={{ color: \"white\", textAlign: \"center\" }}>\r\n          -- NO FAVORITES YET --\r\n        </h3>\r\n      ) : (\r\n        <Grid container style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n          {movieDetails &&\r\n            movieDetails.map((movie, index) => {\r\n              return (\r\n                <Grid\r\n                  item\r\n                  xs={8}\r\n                  sm={4}\r\n                  lg={3}\r\n                  style={{ margin: \"10px\" }}\r\n                  key={index}\r\n                >\r\n                  <Moviecard\r\n                    key={index}\r\n                    path={movie.poster_path}\r\n                    overview={movie.overview}\r\n                    title={movie.title}\r\n                    rating={movie.vote_average}\r\n                    id={movie.id}\r\n                    getList={getList}\r\n                  />\r\n                </Grid>\r\n              );\r\n            })}\r\n        </Grid>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FavoritesList;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, isAuthenticated, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (isAuthenticated) {\r\n          return <Component {...rest} {...props} />;\r\n        } else {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/unauthorized\",\r\n                state: {\r\n                  from: props.location,\r\n                },\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../Unauthorized.scss\";\r\n\r\nconst Unauthorized = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"gandalf\">\r\n        <div className=\"fireball\"></div>\r\n        <div className=\"skirt\"></div>\r\n        <div className=\"sleeves\"></div>\r\n        <div className=\"shoulders\">\r\n          <div className=\"hand left\"></div>\r\n          <div className=\"hand right\"></div>\r\n        </div>\r\n        <div className=\"head\">\r\n          <div className=\"hair\"></div>\r\n          <div className=\"beard\"></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"message\">\r\n        <h1>403 - You Shall Not Pass</h1>\r\n        <p>\r\n          Uh oh, Gandalf is blocking the way!\r\n          <br />\r\n          Maybe you have a typo in the url? Or you meant to go to a different\r\n          location? Like...Hobbiton?\r\n        </p>\r\n      </div>\r\n      <p>\r\n        <Link to=\"/\" className=\"redirect\">\r\n          Back to Home\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Unauthorized;\r\n","import React from \"react\";\r\nimport Login from \"../Components/Login\";\r\nimport Register from \"../Components/Register\";\r\nimport NavBar from \"../Containers/NavBar\";\r\nimport Caroussel from \"../Components/Caroussel\";\r\nimport SearchField from \"../Components/SearchField\";\r\nimport MovieDetails from \"../Components/MovieDetails\";\r\nimport FavoritesList from \"../Components/FavoritesList\";\r\nimport ProtectedRoute from \"../Components/ProtectedRoute\";\r\nimport Unauthorized from \"../Components/Unauthorized\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nexport default function RouterPage() {\r\n  const auth = useSelector((auth) => auth.auth);\r\n  const alert = auth.isAuthenticated;\r\n  const [toggle, setToggle] = useState(alert);\r\n  const isLoading = useSelector((favorites) => favorites.favorites.isLoading);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setToggle(!alert);\r\n    }, 3000);\r\n  }, [alert]);\r\n\r\n  return (\r\n    <Router>\r\n      <Route path=\"/\" component={NavBar} />\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        {auth.user ? (\r\n          toggle ? (\r\n            <Alert\r\n              className=\"Alert\"\r\n              severity=\"success\"\r\n              elevation={1}\r\n              variant=\"filled\"\r\n            >\r\n              {`Welcome ${auth.user.name} ... you can now add movies to your favorites `}\r\n            </Alert>\r\n          ) : null\r\n        ) : null}\r\n        {!auth.user ? (\r\n          !toggle ? (\r\n            <Alert\r\n              className=\"Alert\"\r\n              severity=\"error\"\r\n              elevation={1}\r\n              variant=\"filled\"\r\n            >\r\n              {`you are logged out `}\r\n            </Alert>\r\n          ) : null\r\n        ) : null}\r\n      </div>\r\n      <Route exact path=\"/\" component={SearchField} />\r\n      <ProtectedRoute\r\n        exact\r\n        path=\"/favorites\"\r\n        isAuthenticated={auth.isAuthenticated}\r\n        component={FavoritesList}\r\n      />\r\n      <Route exact path=\"/login\" component={Login} />\r\n      <Route exact path=\"/register\" component={Register} />\r\n      <Route exact path=\"/details\" component={MovieDetails} />\r\n      <Route exact path=\"/unauthorized\" component={Unauthorized} />\r\n      <Route path=\"/\" component={Caroussel} />\r\n    </Router>\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"./App.scss\";\n\nimport { createStore, applyMiddleware } from \"redux\";\nimport allReducers from \"./reducers\";\nimport { Provider } from \"react-redux\";\n// import { loadUser } from \"./actions/authActions\";\n// import { getFavorites } from \"./actions/favoriteAction\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport thunk from \"redux-thunk\";\nimport RouterPage from \"./Components/RouterPage\";\n// import { useEffect } from \"react\";\n\nconst store = createStore(\n  allReducers,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nfunction App() {\n  // const userId = useSelector((auth) =>\n  //   auth.isAuthenticated ? auth.auth.user.id : null\n  // );\n  // useEffect(() => {\n  //   store.dispatch(loadUser());\n  //   store.dispatch(getFavorites(userId));\n  // }, []);\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <RouterPage />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { createStore } from \"redux\";\nimport allReducers from \"./reducers\";\nimport { Provider } from \"react-redux\";\n\nconst store = createStore(\n  allReducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}