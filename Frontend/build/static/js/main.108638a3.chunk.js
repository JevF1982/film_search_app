(this["webpackJsonpfrontend-movie-search-app"]=this["webpackJsonpfrontend-movie-search-app"]||[]).push([[0],{162:function(e,t,a){e.exports=a(242)},167:function(e,t,a){},168:function(e,t,a){},199:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),o=(a(167),a(168),a(32)),s=a(7),l={favList:[],isLoading:!1},u={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},m={msg:{},status:null,id:null},d={movieList:[],movieDetails:[],isLoading:!1},p=Object(o.combineReducers)({favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1});case"FAVORITES_LOADING":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case"LOADED_FAVORITES":case"DELETE_FAVORITE":case"FAVORITES_ERROR":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1});case"CLEAR_FAVORITES":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,favList:[]});case"GET_FAVORITES":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0,favList:t.payload});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(s.a)(Object(s.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCES":case"REGISTER_SUCCES":return localStorage.setItem("x-auth-token",t.payload.token),Object(s.a)(Object(s.a)(Object(s.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCES":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(s.a)(Object(s.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},movielist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIE_LOADING":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case"POPULATE_MOVIELIST":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,movieList:t.payload});case"GET_MOVIE_DETAILS":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,movieDetails:t.payload});case"MOVIE_LOAD_ERROR":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1});case"CLEAR_MOVIELIST":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,movieList:[]});default:return e}}}),f=a(9),v=a(138),E=a(139),O=a(14),b=a(21),g=a(287),h=a(277),y=a(275),j=a(284),I=a(273),x=a(285),R=a(288),L=a(89),S=a.n(L),w=a(276),A=a(274),_=a(271),T=Object(_.a)((function(e){var t;return{root:{flexGrow:1},paper:(t={},Object(b.a)(t,e.breakpoints.down("sm"),{marginTop:e.spacing(0)}),Object(b.a)(t,e.breakpoints.down("md"),{marginTop:e.spacing(2)}),Object(b.a)(t,e.breakpoints.down("lg"),{marginTop:e.spacing(8)}),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),Object(b.a)(t,"alignItems","center"),Object(b.a)(t,"border","white"),Object(b.a)(t,"color","white"),Object(b.a)(t,"padding",e.spacing(2)),Object(b.a)(t,"textAlign","center"),t),avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,color:"white !important"},form:{width:"100%",marginTop:e.spacing(4),color:"white !important"},submit:{margin:e.spacing(3,0,2),color:"white !important"},cssLabel:{color:"white"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(e.palette.primary.main," !important")}},cssFocused:{},notchedOutline:{borderWidth:"1px",borderColor:"white !important"}}})),C=Object(_.a)((function(e){return{root:{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#242B53"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#242B53"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#242B53"},flexGrow:1},paper:{marginTop:e.spacing(8),padding:e.spacing(2),textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",color:"white !important"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},cssLabel:{color:"white"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(e.palette.primary.main," !important")}},cssFocused:{},notchedOutline:{borderWidth:"1px",borderColor:"white !important"}}})),N=(Object(_.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},links:{color:"white",textDecoration:"none"}}})),a(23)),k=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},F=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},D=a(24),V=a.n(D),G=a(11),M=a(25),U=a.n(M),P=a(42),B=function(e,t){return function(){var a=Object(P.a)(U.a.mark((function a(n,r){var i;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"FAVORITES_LOADING"}),i=JSON.stringify({favList:e,UserId:t}),a.next=4,V.a.patch("/api/favorites/".concat(t),i,F(r)).then((function(){return n({type:"ADD_FAVORITE",payload:e})})).catch((function(e){n(k(e.response.data,e.response.status,"FAVORITES_ERROR")),n({type:"FAVORITES_ERROR"})}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},W=function(e,t){return function(){var a=Object(P.a)(U.a.mark((function a(n,r){var i;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"FAVORITES_LOADING"}),i=JSON.stringify({favList:e,UserId:t}),a.next=4,V.a.patch("/api/favorites/deletefavorites/".concat(t),i,F(r)).then((function(){return n({type:"DELETE_FAVORITE",payload:e})})).catch((function(e){n(k(e.response.data,e.response.status,"FAVORITES_ERROR")),n({type:"FAVORITES_ERROR"})}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(P.a)(U.a.mark((function t(a,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FAVORITES_LOADING"}),t.next=3,V.a.get("/api/favorites/getfavorites/".concat(e),F(n)).then((function(e){return a({type:"GET_FAVORITES",payload:e.data})})).catch((function(e){a(k(e.response.data,e.response.status,"FAVORITES_ERROR")),a({type:"FAVORITES_ERROR"})}));case 3:return t.next=5,a({type:"LOADED_FAVORITES"});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()};function H(){var e=C(),t=Object(f.c)((function(e){return e.auth})),a=Object(f.c)((function(e){return e.auth.user?e.auth.user.id:null})),i=Object(f.c)((function(e){return e.error})),c=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(i),o=Object(f.b)(),l=Object(G.f)(),u=Object(n.useState)({email:"",password:"",msg:null}),m=Object(O.a)(u,2),d=m[0],p=m[1];var v=Object(n.useRef)();Object(n.useEffect)((function(){v.current?i.msg!==c.msg&&("LOGIN_FAIL"===i.id?p({msg:i.msg.msg}):p({msg:null})):v.current=!0,t.isAuthenticated&&(p({email:"",password:"",msg:null}),l.push("/"),o({type:"CLEAR_ERRORS"}),o(z(a)))}),[i,c,t.isAuthenticated,o,l,a]);var E=function(e){var t=e.target.value,a=e.target.name;p(Object(s.a)(Object(s.a)({},d),{},Object(b.a)({},a,t)))};return r.a.createElement(I.a,{container:!0,spacing:3,style:{marginTop:"70px"}},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(A.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(g.a,{className:e.avatar},r.a.createElement(S.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign in"),d.msg?r.a.createElement(x.a,{severity:"error",elevation:6,variant:"filled",style:{marginBottom:"20px",marginTop:"20px"}},d.msg):null,r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,className:"email",label:"Email Address",name:"email",value:d.email||"",onChange:E,InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline},inputMode:"numeric"}}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",value:d.password||"",id:"password",autoComplete:"current-password",onChange:E,className:e.root,InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline},inputMode:"numeric"}}),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),o(function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});V.a.post("/api/users/login",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCES",payload:t.data})})).catch((function(t){e(k(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}}(d)),p({email:" ",password:" "})}},"Sign In"),r.a.createElement(I.a,{container:!0},r.a.createElement(I.a,{item:!0,xs:!0},r.a.createElement(N.b,{to:"",variant:"body2",className:"route-links"},"Forgot password?")),r.a.createElement(I.a,{item:!0},r.a.createElement(N.b,{to:"/register",className:"route-links"},"Don't have an account? Sign Up"))))),r.a.createElement(R.a,{mt:8}))))}var q=Object(G.h)((function(){var e=T(),t=Object(n.useState)({email:"",password:"",name:"",favListItem:" ",msg:null}),a=Object(O.a)(t,2),i=a[0],c=a[1];var o=Object(f.c)((function(e){return e.error})),l=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(o),u=Object(f.c)((function(e){return e.auth.isAuthenticated})),m=Object(G.f)(),d=Object(f.b)(),p=Object(n.useRef)();Object(n.useEffect)((function(){if(p.current){if(o.msg!==l.msg)try{"REGISTER_FAIL"===o.id?c({msg:o.msg.msg.details[0].message||null}):c({msg:null})}catch(e){c({msg:"User bestaat al "})}}else p.current=!0;u&&(c({email:"",password:"",name:"",msg:null}),m.push("/"),d({type:"CLEAR_ERRORS"}))}),[o,l,u,d,m]);var v=function(e){var t=e.target.value,a=e.target.name;c(Object(s.a)(Object(s.a)({},i),{},Object(b.a)({},a,t)))};return r.a.createElement(I.a,{container:!0,spacing:3,style:{marginTop:"70px"}},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(A.a,{component:"main",maxWidth:"xs"},r.a.createElement(y.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(g.a,{className:e.avatar},r.a.createElement(S.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(I.a,{container:!0,spacing:2},r.a.createElement(I.a,{item:!0,xs:12,sm:12},i.msg?r.a.createElement(x.a,{severity:"error",elevation:6,variant:"filled",style:{marginBottom:"20px"}},i.msg):null,r.a.createElement(j.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,value:i.name||"",fullWidth:!0,id:"name",label:"Name",autoFocus:!0,onChange:v,className:e.textfield,InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline},inputMode:"numeric"}})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:i.email||"",autoComplete:"email",onChange:v,className:e.textfield,InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline},inputMode:"numeric"}})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",value:i.password||"",id:"password2",autoComplete:"current-password",onChange:v,className:e.textfield,InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline},inputMode:"numeric"}}))),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault();var t=i.name,a=i.email,n=i.password;d(function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r=JSON.stringify({name:t,email:a,password:n});V.a.post("/api/users/register",r,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCES",payload:t.data})})).catch((function(t){e(k(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}}({name:t,email:a,password:n}))}},"Sign Up"),r.a.createElement(I.a,{container:!0,justify:"flex-end"},r.a.createElement(I.a,{item:!0},r.a.createElement(N.b,{to:"/login",className:"route-links"},"Already have an account? Sign in"))))),r.a.createElement(R.a,{mt:5}))))})),J=a(144),X=a.n(J),Y=(a(199),function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(!1),o=Object(O.a)(c,2),s=o[0],l=o[1],u=Object(f.c)((function(e){return e.auth.isAuthenticated})),m=Object(f.b)(),d=u?[{to:"/",text:"SEARCH"},{to:"/favorites",text:"FAVORITES"},{to:"/",text:"LOGOUT"}]:[{to:"/",text:"SEARCH"},{to:"/login",text:"LOGIN"},{to:"/register",text:"REGISTER"}],p=function(){i(!a)},v=X()();v.y>1&&!s&&l(!0),v.y<=1&&s&&l(!1);var E={backgroundColor:s?"black":"transparent",transition:"400ms ease",height:"120px",position:v.y?"fixed":" ",right:0,left:0,top:v.y?"-20px":"0px",zIndex:3e3,link:{marginTop:v.y?"65px":" "},logo:{marginTop:v.y?"10px":" "},hamburger:{marginTop:v.y?"20px":" "}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("nav",{className:a?"navbar active":"navbar",style:E},r.a.createElement("div",null,r.a.createElement("img",{className:"logo",src:"assets/logo_transparent.png",alt:"pic",style:E.logo})),r.a.createElement("button",{onClick:p,className:"toggle"}),r.a.createElement("ul",{className:a?"link-list active":"link-list",style:E.link},d.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return t=e.text,p(),"LOGOUT"===t&&(m({type:"LOGOUT_SUCCES"}),m({type:"CLEAR_MOVIELIST"}),m({type:"CLEAR_FAVORITES"})),p(),document.body.scrollTop=0,void(document.documentElement.scrollTop=0);var t}},r.a.createElement(N.b,{to:e.to,style:{listStyle:"none",textDecoration:"none",color:"wheat"}},e.text),r.a.createElement("hr",null))}))),r.a.createElement("div",{className:"hamburger-menu",style:E.hamburger},r.a.createElement("div",{className:a?"line1 turn":"line1"}),r.a.createElement("div",{className:a?"line2 turn":"line2"}),r.a.createElement("div",{className:a?"line3 turn":"line3"})))))}),$=a(145),K=a.n($),Q=(a(212),function(e){return function(t){t({type:"MOVIE_LOADING"}),V.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("aa18119a1a89f0ad520b5348f4489409","&language=en-US")).then((function(e){return t({type:"GET_MOVIE_DETAILS",payload:e.data})})).catch((function(e){t(k(e.response.data,e.response.status)),t({type:"MOVIE_LOAD_ERROR"})}))}}),Z={desktop:{breakpoint:{max:3e3,min:1024},items:6,partialVisibilityGutter:20},mobile:{breakpoint:{max:464,min:0},items:2,partialVisibilityGutter:20},tablet:{breakpoint:{max:1024,min:464},items:3,partialVisibilityGutter:20}},ee=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(G.f)(),o=Object(f.b)();Object(n.useEffect)((function(){(function(){var e=Object(P.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V()("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("aa18119a1a89f0ad520b5348f4489409","&language=en-US&page=1"));case 2:return t=e.sent,e.next=5,t.data.results.map((function(e){return e}));case 5:a=e.sent,i(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("h1",{style:{marginBottom:"60px"}},"NEW RELEASES")),r.a.createElement(K.a,{additionalTransfrom:0,arrows:!0,responsive:Z,autoPlaySpeed:1500,centerMode:!1,className:"",containerClass:"container-with-dots",dotListClass:"",draggable:!0,focusOnSelect:!1,infinite:!0,partialVisible:!0,autoPlay:!0,itemClass:"",keyBoardControl:!0,minimumTouchDrag:80,renderButtonGroupOutside:!1,renderDotsOutside:!1,showDots:!1,sliderClass:"",slidesToSlide:1,swipeable:!0},a.map((function(e){return e.poster_path?r.a.createElement(I.a,{container:!0,spacing:1,key:e.id},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185//".concat(e.poster_path),alt:"pic",id:"img-card",onClick:function(){return t=e.id,o(Q(t)),void c.push("/details");var t}}))):null}))),";")},te=a(279),ae=a(280),ne=a(283),re=a(282),ie=a(281),ce=a(286),oe=a(146),se=a.n(oe),le=function(e,t,a){if(!e&&t){if("add"===a)return r.a.createElement(x.a,{severity:"error",elevation:6,variant:"filled",style:{marginBottom:"20px"}},"You must be logged in to add to your favorites");if("delete"===a)return r.a.createElement(x.a,{severity:"error",elevation:6,variant:"filled",style:{marginBottom:"20px"}},"You must be logged in to delete from your favorites")}else if(e&&t)return"add"===a?r.a.createElement(x.a,{severity:"success",elevation:6,variant:"filled",style:{marginBottom:"20px"}},"Added to your favorites"):r.a.createElement(x.a,{severity:"success",elevation:6,variant:"filled",style:{marginBottom:"20px"}},"Deleted from your favorites")},ue=function(e){var t=Object(G.g)(),a=Object(G.f)(),i=Object(f.b)(),c=Object(f.c)((function(e){return e.auth.isAuthenticated})),o=Object(f.c)((function(e){return c?e.auth.user.id:null})),s=Object(f.c)((function(e){return e.favorites.favList.favList})),l=Object(n.useState)(!1),u=Object(O.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)(!1),v=Object(O.a)(p,2),E=v[0],b=v[1],g=Object(n.useState)(""),y=Object(O.a)(g,2),j=y[0],I=y[1],x=Object(n.useCallback)((function(e){b(s&&s.includes(e))}),[s]);Object(n.useEffect)((function(){var t=setTimeout((function(){d(!1)}),2e3);return x(e.id),function(){clearTimeout(t)}}),[m,x,e.id]);var R=function(){var e=Object(P.a)(U.a.mark((function e(t,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(W(t,a));case 2:i(z(a)),I("delete"),d((function(e){return!e}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,null,r.a.createElement(te.a,{style:{marginBottom:"90px",minHeight:"600px",backgroundColor:"rgb(25,25,25)"}},r.a.createElement(ae.a,null,r.a.createElement(ie.a,{component:"img",alt:"Movie Tile",width:200,height:300,image:" http://image.tmdb.org/t/p/w185//".concat(e.path),title:e.title,style:{objectFit:"scale-down"}}),r.a.createElement(re.a,null,r.a.createElement(w.a,{gutterBottom:!0,variant:"h5",style:{color:"white"},component:"h2"},e.title),r.a.createElement(w.a,{variant:"body2",style:{color:"white",marginBottom:"40px"},component:"h1"},"Rating : ",e.rating,"/10"))),le(c,m,j),r.a.createElement(ne.a,{style:{display:"flex",justifyContent:"center"}},"/favorites"!==t.pathname?r.a.createElement("div",null,r.a.createElement(ce.a,{checked:E||!1,color:"secondary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement(h.a,{size:"large",color:"primary",className:"moviecard-buttons",onClick:function(){return function(e,t){i(B(e,t)),i(z(t)),I("add"),d((function(e){return!e}))}(e.id,o)}},"Add to favorites")," "):null),r.a.createElement(ne.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(h.a,{size:"large",color:"primary",className:"moviecard-buttons",onClick:function(){return R(e.id,c?o:null,"delete")}},"Delete from favorites"),r.a.createElement(h.a,{size:"large",color:"primary",className:"moviecard-buttons",onClick:function(){return t=e.id,i(Q(t)),void a.push("/details");var t}},"Details")))))},me=a(147),de=a.n(me),pe=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(f.b)(),o=Object(f.c)((function(e){return e.movielist.movieList}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"search-bar"},r.a.createElement(de.a,{id:"search-field",onChange:function(e){i(e),c(function(e){return function(t){t({type:"MOVIE_LOADING"}),V.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("aa18119a1a89f0ad520b5348f4489409","&query=").concat(e)).then((function(e){return t({type:"POPULATE_MOVIELIST",payload:e.data.results})})).catch((function(e){t({type:"CLEAR_MOVIELIST"}),t(k(e.response.data,e.response.status)),t({type:"MOVIE_LOAD_ERROR"})}))}}(e))},value:a,placeholder:"Search for movies...",autoComplete:"off"})),r.a.createElement(I.a,{container:!0,style:{display:"flex",justifyContent:"center"}},o.length?o.map((function(e,t){return e.poster_path&&e.overview&&e.vote_average?r.a.createElement(I.a,{item:!0,xs:8,sm:4,lg:3,style:{margin:"10px"},key:t},r.a.createElement(ue,{path:e.poster_path,overview:e.overview,title:e.title,rating:e.vote_average,id:e.id})):null})):null))},fe=function(){var e=Object(f.c)((function(e){return e.movielist.movieDetails})),t=Object(f.c)((function(e){return e.auth.isAuthenticated})),a=Object(f.c)((function(e){return t?e.auth.user.id:null})),i=Object(f.c)((function(e){return e.favorites.favList.favList})),c=Object(n.useState)(!1),o=Object(O.a)(c,2),s=o[0],l=o[1],u=Object(f.b)(),m=Object(n.useState)(""),d=Object(O.a)(m,2),p=d[0],v=d[1],E=Object(n.useState)(!1),b=Object(O.a)(E,2),g=b[0],y=b[1],j=Object(n.useCallback)((function(e){y(i&&i.includes(e))}),[i]);Object(n.useEffect)((function(){var t=setTimeout((function(){l(!1)}),2e3);return j(e.id),function(){clearTimeout(t)}}),[s,j,e.id]);var I=function(e,t,a){l((function(e){return!e})),"add"===a?(u(B(e,t)),u(z(t)),v("add")):(v("delete"),u(W(e,t)),u(z(t)))},x={background:{backgroundImage:"url(http://image.tmdb.org/t/p/w185//".concat(e.poster_path,")"),maxWidth:"40vh",minHeight:"300px ",backgroundRepeat:"no-repeat",backgroundPosition:"left",backgroundSize:"contain",flexGrow:2},container:{display:"flex",width:"100vw",justifyContent:"center",margin:"50px 0 50px 0"},movieOverview:{color:"white",fontSize:"1.4em",minWidth:"auto",margin:"20px"},movieContentContainer:{display:"flex",padding:"20px",margin:"30px",flexDirection:"column",alignItems:"center",justifyContent:"center"}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movie-container",style:x.container},r.a.createElement("div",{className:"movie-background",style:x.background},r.a.createElement("div",{className:"overlay",style:x.overlay})),r.a.createElement("div",{style:x.movieContentContainer},r.a.createElement("div",{style:x.movieOverview},e.overview),r.a.createElement("div",{style:x.movieOverview},e.vote_average?"RATING : ".concat(e.vote_average,"/10"):null),le(t,s,p),r.a.createElement("div",{style:x.movieOverview},e.vote_average?r.a.createElement("div",null,t?r.a.createElement(ce.a,{checked:g||!1,color:"secondary",inputProps:{"aria-label":"primary checkbox"},style:{marginBottom:"20px"}}):null,r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return I(e.id,a,"add")},style:{marginRight:"20px",marginBottom:"20px"}},"Add to favorites"),r.a.createElement(h.a,{variant:"contained",color:"secondary",onClick:function(){return I(e.id,a,"delete")},style:{marginBottom:"20px"}},"Delete from favorites")):null))))},ve=a(148),Ee=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],i=t[1],c=Object(f.c)((function(e){return e.auth.isAuthenticated})),o=(Object(f.c)((function(e){return e.favorites.isLoading})),Object(f.c)((function(e){return e.favorites.favList.favList}))),s=Object(n.useCallback)((function(){var e=new AbortController,t=e.signal;return i([]),o&&o.map((function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("aa18119a1a89f0ad520b5348f4489409","&language=en-US"),{signal:t}).then((function(e){return e.json()})).then((function(e){i((function(t){return[].concat(Object(ve.a)(t),[e])}))})).catch((function(e){return console.log(e)}))})),function(){e.abort()}}),[o]);return Object(n.useEffect)((function(){i([]),s()}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"favorite-header"},r.a.createElement("h1",null,"Favorites")),!o&&c?r.a.createElement("h3",{style:{color:"white",textAlign:"center"}},"-- NO FAVORITES YET --"):r.a.createElement(I.a,{container:!0,style:{display:"flex",justifyContent:"center"}},a&&a.map((function(e,t){return r.a.createElement(I.a,{item:!0,xs:8,sm:4,lg:3,style:{margin:"10px"},key:t},r.a.createElement(ue,{key:t,path:e.poster_path,overview:e.overview,title:e.title,rating:e.vote_average,id:e.id,getList:s}))}))))},Oe=a(149),be=function(e){var t=e.component,a=e.isAuthenticated,n=Object(Oe.a)(e,["component","isAuthenticated"]);return r.a.createElement(G.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},n,e)):r.a.createElement(G.a,{to:{pathname:"/unauthorized",state:{from:e.location}}})}}))},ge=(a(241),function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"gandalf"},r.a.createElement("div",{className:"fireball"}),r.a.createElement("div",{className:"skirt"}),r.a.createElement("div",{className:"sleeves"}),r.a.createElement("div",{className:"shoulders"},r.a.createElement("div",{className:"hand left"}),r.a.createElement("div",{className:"hand right"})),r.a.createElement("div",{className:"head"},r.a.createElement("div",{className:"hair"}),r.a.createElement("div",{className:"beard"}))),r.a.createElement("div",{className:"message"},r.a.createElement("h1",null,"403 - You Shall Not Pass"),r.a.createElement("p",null,"Uh oh, Gandalf is blocking the way!",r.a.createElement("br",null),"Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?")),r.a.createElement("p",null,r.a.createElement(N.b,{to:"/",className:"redirect"},"Back to Home")))});function he(){var e=Object(f.c)((function(e){return e.auth})),t=e.isAuthenticated,a=Object(n.useState)(t),i=Object(O.a)(a,2),c=i[0],o=i[1];Object(f.c)((function(e){return e.favorites.isLoading}));return Object(n.useEffect)((function(){setTimeout((function(){o(!t)}),3e3)}),[t]),r.a.createElement(N.a,null,r.a.createElement(G.b,{path:"/",component:Y}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},e.user&&c?r.a.createElement(x.a,{className:"Alert",severity:"success",elevation:1,variant:"filled"},"Welcome ".concat(e.user.name," ... you can now add movies to your favorites ")):null,e.user||c?null:r.a.createElement(x.a,{className:"Alert",severity:"error",elevation:1,variant:"filled"},"you are logged out ")),r.a.createElement(G.b,{exact:!0,path:"/",component:pe}),r.a.createElement(be,{exact:!0,path:"/favorites",isAuthenticated:e.isAuthenticated,component:Ee}),r.a.createElement(G.b,{exact:!0,path:"/login",component:H}),r.a.createElement(G.b,{exact:!0,path:"/register",component:q}),r.a.createElement(G.b,{exact:!0,path:"/details",component:fe}),r.a.createElement(G.b,{exact:!0,path:"/unauthorized",component:ge}),r.a.createElement(G.b,{path:"/",component:ee}))}var ye=Object(o.createStore)(p,Object(v.composeWithDevTools)(Object(o.applyMiddleware)(E.a)));var je=function(){return r.a.createElement(f.a,{store:ye},r.a.createElement("div",{className:"App"},r.a.createElement(he,null)))},Ie=Object(o.createStore)(p,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(f.a,{store:Ie},r.a.createElement(je,null)),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.108638a3.chunk.js.map